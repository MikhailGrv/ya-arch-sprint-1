Проблематика: 
Сильно связанные компоненты фрона, компоненты бэка
Изменения влияют на все компоненты, что усложняет тестирование и отладку. 
Нет возмождности разделения на команды по продуктовым доменам

В результате получаем проблемы развития системы

НФТ: нет требований (предположим, что должно быть не хуже)
ФТ: сохранить функциональность



Чего делаем: разделяем на доменные сервисы как бэк так и фронт. 
Домены: 
1. Авторизация : Авторизация,  JWT
2. Управление пользователями: Регистрация, Профиль 
2. Карточки: Управление карточками, Управление лайками 
Возможно выделения в дальнейшем в отдельные домены Профиль, Лайки

Разделение на бэк и фронт оставляем.

Паттерны типа API Gateway на текущий момент избыточны ... но из-за CORS прокси все же потребуется.

Возможно постепеный переход:
1. Разделяем бэк - публикуя нове отдельные сервисы, сохраняя действющующий БЭК, действующую СУБД
Структуру API не меняем
2. Заменяем ссылки на фронте на новые сервисы
3. Отключаем cтарый бэк
4. Разделение БД на отдельные БД под сервисы (с миграцией и остановкой сервиса, хотя возможны варианты)
Параллельно:
1. Рисуем норвый фронт
2. Публиткуем сервисы нового фронта, старый фронт остается
3. Переводим постеменно трафик на новый фронт
4. Отключаем старый фронт

Но в силу простоты проекта и остутвия времени - сразу делаем новый вариант.


Технологии:
Прокси: самый простой http-proxy-middleware, на проме nginx
Бэк: просто разделить на отдельные сервыисы
Фронт: применяем ModuleFederation так как команде в лице меня это проще и понятнее, а следовательно экономия на времени. При этом SPA не даст дополнительных бонусов.

Минусы: дублируем код, увеличиваем расходы на железо



Резуьтат:

1. ya-arch-sprint-1\proxy - порт 3000 - прокси, разруливает маршрутизацию.
2. be-micro - сборник Бэков
    2.1 ya-arch-sprint-1\be-micro\be-auth - порт 8090  - авторизация 
    2.2 ya-arch-sprint-1\be-micro\be-cards - порт 8092 - управления карточками
    2.3 ya-arch-sprint-1\be-micro\be-users - порт 8091 - управление пользователями
3. fe-mf-app - ФФронтенды на ModuleFederation - пути все относительные, маршрутизация в Proxy
    3.1 ya-arch-sprint-1\fe-mf-app\fe-host - порт 8095 - основная страница + авторизация
    3.2 ya-arch-sprint-1\fe-mf-app\fe-users - порт 8096 - пользователи
    3.3 ya-arch-sprint-1\fe-mf-app\fe-cards - порт 8097 - карты
Постарался максималоно убрать сильную свзанность - немного изменилось положение элементов.
Связанность остается в части общего токена


Полностью работает.

TODO: 
1. почистить код от логирования и старых копипаст
2. мигрировать BE на отдельные БД
3. централизовать валидацию токенов

    



